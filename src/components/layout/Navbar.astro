---
import Container from '../ui/Container.astro';
import Button from '../ui/Button.astro';
---

<!-- Announcement Banner -->
<div id="announcement-banner" class="bg-black py-2.5">
  <Container>
    <div class="flex items-center justify-center text-sm">
      <span class="text-white/90 font-light">
        Cleric Named a GartnerÂ® Cool Vendor 2025 in AI for SRE and Observability.
      </span>
      <a href="#" class="text-[#A78BFA] hover:text-[#C4B5FD] ml-2 transition-colors font-medium">
        Find out more
      </a>
    </div>
  </Container>
</div>

<!-- Main Navbar -->
<nav id="navbar" class="sticky top-0 z-40 transition-all duration-300" data-transparent="true">
  <Container>
    <div class="flex items-center justify-between h-16 desktop:h-[72px]">
      <!-- Logo -->
      <a href="/" class="flex items-center">
        <span id="navbar-logo" class="text-xl font-semibold text-white tracking-tight transition-colors duration-300">Cleric</span>
      </a>

      <!-- Desktop Navigation + CTA -->
      <div class="hidden desktop:flex items-center gap-8">
        <div id="navbar-links" class="flex items-center gap-6">
          <a href="#product" class="nav-link text-white/90 hover:text-white transition-colors text-sm font-medium">Product</a>

          <!-- Solutions Dropdown -->
          <div class="relative group">
            <button class="nav-link flex items-center gap-1 text-white/90 hover:text-white transition-colors text-sm font-medium">
              Solutions
              <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
              </svg>
            </button>
            <div class="absolute top-full left-0 pt-2 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200">
              <div class="bg-white rounded-lg shadow-lg border border-border py-2 min-w-[200px]">
                <a href="#enterprise" class="block px-4 py-2 text-sm text-body hover:text-dark hover:bg-gray-50">Enterprise</a>
                <a href="#startups" class="block px-4 py-2 text-sm text-body hover:text-dark hover:bg-gray-50">Startups</a>
                <a href="#devops" class="block px-4 py-2 text-sm text-body hover:text-dark hover:bg-gray-50">DevOps Teams</a>
              </div>
            </div>
          </div>

          <!-- Resources Dropdown -->
          <div class="relative group">
            <button class="nav-link flex items-center gap-1 text-white/90 hover:text-white transition-colors text-sm font-medium">
              Resources
              <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
              </svg>
            </button>
            <div class="absolute top-full left-0 pt-2 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200">
              <div class="bg-white rounded-lg shadow-lg border border-border py-2 min-w-[200px]">
                <a href="#blog" class="block px-4 py-2 text-sm text-body hover:text-dark hover:bg-gray-50">Blog</a>
                <a href="#docs" class="block px-4 py-2 text-sm text-body hover:text-dark hover:bg-gray-50">Documentation</a>
                <a href="#case-studies" class="block px-4 py-2 text-sm text-body hover:text-dark hover:bg-gray-50">Case Studies</a>
                <a href="#changelog" class="block px-4 py-2 text-sm text-body hover:text-dark hover:bg-gray-50">Changelog</a>
              </div>
            </div>
          </div>

          <a href="#about" class="nav-link text-white/90 hover:text-white transition-colors text-sm font-medium">About</a>
          <a href="#careers" class="nav-link text-white/90 hover:text-white transition-colors text-sm font-medium">Careers</a>
        </div>

        <!-- Request Demo Button -->
        <div id="navbar-buttons">
          <a href="/demo" id="request-demo-btn" class="inline-flex items-center justify-center px-5 py-2 text-sm font-medium rounded-full bg-white/20 text-white border border-white/30 hover:bg-white/30 transition-all duration-200">
            Request Demo
          </a>
        </div>
      </div>

      <!-- Mobile Menu Toggle -->
      <button
        id="menu-toggle"
        class="desktop:hidden p-2 text-white hover:bg-white/10 rounded-lg transition-colors"
        aria-label="Open menu"
        aria-expanded="false"
      >
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
        </svg>
      </button>
    </div>
  </Container>
</nav>

<!-- Mobile Menu Overlay -->
<div id="menu-overlay" class="hidden fixed inset-0 bg-black/50 z-40 desktop:hidden"></div>

<!-- Mobile Menu Drawer -->
<div
  id="mobile-menu"
  class="fixed top-0 right-0 h-full w-80 max-w-[85vw] bg-white z-50 transform translate-x-full transition-transform duration-300 ease-out desktop:hidden shadow-2xl"
>
  <div class="flex flex-col h-full">
    <!-- Header -->
    <div class="flex items-center justify-between p-4 border-b border-border">
      <a href="/" class="flex items-center">
        <span class="text-xl font-semibold text-dark tracking-tight">Cleric</span>
      </a>
      <button
        id="close-menu"
        class="p-2 text-body hover:text-dark hover:bg-gray-100 rounded-lg transition-colors"
        aria-label="Close menu"
      >
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
        </svg>
      </button>
    </div>

    <!-- Navigation Links -->
    <nav class="flex-1 overflow-y-auto py-4">
      <ul class="space-y-1 px-4">
        <li>
          <a href="#product" class="block py-3 px-4 text-body hover:text-dark hover:bg-gray-50 rounded-lg transition-colors font-medium">
            Product
          </a>
        </li>
        <li>
          <div class="py-2 px-4">
            <span class="text-xs font-semibold text-muted uppercase tracking-wider">Solutions</span>
          </div>
          <a href="#enterprise" class="block py-2 px-4 pl-8 text-body hover:text-dark hover:bg-gray-50 rounded-lg transition-colors">
            Enterprise
          </a>
          <a href="#startups" class="block py-2 px-4 pl-8 text-body hover:text-dark hover:bg-gray-50 rounded-lg transition-colors">
            Startups
          </a>
          <a href="#devops" class="block py-2 px-4 pl-8 text-body hover:text-dark hover:bg-gray-50 rounded-lg transition-colors">
            DevOps Teams
          </a>
        </li>
        <li>
          <div class="py-2 px-4">
            <span class="text-xs font-semibold text-muted uppercase tracking-wider">Resources</span>
          </div>
          <a href="#blog" class="block py-2 px-4 pl-8 text-body hover:text-dark hover:bg-gray-50 rounded-lg transition-colors">
            Blog
          </a>
          <a href="#docs" class="block py-2 px-4 pl-8 text-body hover:text-dark hover:bg-gray-50 rounded-lg transition-colors">
            Documentation
          </a>
          <a href="#case-studies" class="block py-2 px-4 pl-8 text-body hover:text-dark hover:bg-gray-50 rounded-lg transition-colors">
            Case Studies
          </a>
        </li>
        <li>
          <a href="#about" class="block py-3 px-4 text-body hover:text-dark hover:bg-gray-50 rounded-lg transition-colors font-medium">
            About
          </a>
        </li>
        <li>
          <a href="#careers" class="block py-3 px-4 text-body hover:text-dark hover:bg-gray-50 rounded-lg transition-colors font-medium">
            Careers
          </a>
        </li>
      </ul>
    </nav>

    <!-- CTA Button -->
    <div class="p-4 border-t border-border">
      <Button variant="primary" size="md" class="w-full" href="/demo">
        Request Demo
      </Button>
    </div>
  </div>
</div>
